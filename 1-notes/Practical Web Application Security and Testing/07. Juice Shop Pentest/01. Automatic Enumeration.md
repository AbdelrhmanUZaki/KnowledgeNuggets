# Automatic Enumeration

- Cleared cookies to reset progress.
- Started a new ZAP session.
- Added `http://ubuntu-server:8002` to a new context.

We begin with **automatic enumeration** to understand what the server exposes before moving into manual exploration as a regular user.

#### Feroxbuster Scan

Ran the following command to enumerate directories and endpoints:

```bash
feroxbuster -u http://ubuntu-server:8002 -n -t 5 -L 5 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt -o feroxbuster.txt
```

Below is the output lines that contain URLs
- Paste them in a new file `urls.txt`
```
500      GET       49l      117w     1045c http://ubuntu-server:8002/profile
200      GET        0l        0w    11081c http://ubuntu-server:8002/ftp
301      GET       10l       15w      156c http://ubuntu-server:8002/assets => http://ubuntu-server:8002/assets/
400      GET       49l      205w     3351c http://ubuntu-server:8002/~%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%00_d%10_%C3%B1%%EF%BF%BD%EF%BF%BD%EF%BF%BD]%EF%BF%BDp%EF%BF%BD
400      GET       49l      205w     3493c http://ubuntu-server:8002/%EF%BF%BDl%1E%EF%BF%BDX%EF%BF%BD%117%EF%BF%BD%DD%B1%EF%BF%BD%00Ld%12Iy%EF%BF%BD%v%EF%BF%BDi%EF%BF%BD%00%08%00%18NB7%13:S%1AI%EF%BF%BDZ&%038Y%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD
400      GET       49l      205w     3197c http://ubuntu-server:8002/V%EF%BF%BD%EF%BF%BDGM%EF%BF%BD%EF%BF%BDl%
400      GET       49l      205w     3977c http://ubuntu-server:8002/%EF%BF%BDz%EF%BF%BD%16%EF%BF%BDa%EF%BF%BDEY0p1:%EF%BF%BD%EF%BF%BD%EF%BF%BD%06%EF%BF%BDB:%%16%EF%BF%BD%EF%BF%BD%7F%EF%BF%BD%EF%BF%BD%EF%BF%BD%00Xl%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%C9%A1%EF%BF%BDl%EF%BF%BD%EF%BF%BD%07%EF%BF%BD%EF%BF%BD%EF%BF%BD%06%EF%BF%BD%EF%BF%BD$%CD%BFYR%EF%BF%BD%EF%BF%BDa%15%01%1Bl2%EF%BF%BD%03%EF%BF%BD%EF%BF%BD%EF%BF%BDp%EF%BF%BD%EF%BF%BD%EF%BF%BD%08Iu
400      GET       49l      205w     3477c http://ubuntu-server:8002/%EF%BF%BD%EF%BF%BD%EF%BF%BD%02%1EJ%EF%BF%BD%EF%BF%BD%03%EF%BF%BD%PE-%EF%BF%BDl%EF%BF%BD%EF%BF%BD=R!%0E%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%11%EF%BF%BD%EF%BF%BD%00:%EF%BF%BD
400      GET       49l      205w     3469c http://ubuntu-server:8002/Z%EF%BF%BDe%q%EF%BF%BD%E2%A4%A6%EF%BF%BD7%EF%BF%BD%EF%BF%BD%05D%EF%BF%BDI%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%0FK:%CE%92%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%BAX%04%EF%BF%BD_j
500      GET       49l      208w     3119c http://ubuntu-server:8002/redirect
200      GET    49061l   264108w 18331192c http://ubuntu-server:8002/video
500      GET       49l      199w     3017c http://ubuntu-server:8002/api
200      GET    49061l   264108w 18331192c http://ubuntu-server:8002/Video
500      GET       49l      199w     3033c http://ubuntu-server:8002/restaurants
200      GET      150l     1254w   129490c http://ubuntu-server:8002/assets/public/images/JuiceShop_Logo.png
200      GET        6l       34w    23662c http://ubuntu-server:8002/assets/public/favicon_js.ico
200      GET      177l      693w     6586c http://ubuntu-server:8002/promotion
500      GET       49l      117w     1045c http://ubuntu-server:8002/Profile
200      GET    49061l   264108w 18331192c http://ubuntu-server:8002/VIDEO

```

Use commands below to extract only the URLs from the new file, then transfer all of them to the  ZAP's proxy history

```bash
export urls=$(cat urls.txt | tr -s " " | cut -d " " -f 6)

for u in $urls; do
    curl "$u" --proxy http://localhost:8080
done
```
#### Observations

- Run both **Spider** and **AJAX Spider** at this stage anonymously (without authentication).
- Later stages will repeat these scans using an authenticated session for deeper coverage.
- Juice Shop uses **Angular routing** (`/#/` style URLs), which means many of the frontend routes won't be detected by tools like `Feroxbuster`.
    - `Feroxbuster` discovers backend-facing URLs, which might differ from what's visible in the frontend.
    - These URLs require further investigation to determine their relevance and accessibility via the application UI.